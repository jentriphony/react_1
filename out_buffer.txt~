import './ExpenseItems.css'

import { useState } from 'react'
import ExpenseItemSCard from './../UI/ExpenseItemSCard'
import ExpenseItem from './ExpenseItem'
import ExpenseItemsFilterYear from './ExpenseItemsFilterYear'



const ExpenseItems = dataProps => {



  const expenseItems = dataProps.expenseItems

  const [expenseItemsFilterYearValue, setExpenseItemsFilterYearValue] = useState('2005')



  const expenseItemsFilterYearHandler = itemsFilterYearValue => {

    setExpenseItemsFilterYearValue(itemsFilterYearValue)

  }


  return (

    <div>



       <ExpenseItemSCard className='expense-items'>
			 <ExpenseItemsFilterYear
		expenseItemsFilterBy='Filter by year'
		expenseItemsFilterYearValue={ expenseItemsFilterYearValue }
		onExpenseItemsFilterYear={ expenseItemsFilterYearHandler }
			 />

		{expenseItems.map(expenseItem => {
			if(expenseItem.expenseDate.getFullYear() === Number(expenseItemsFilterYearValue)) {
					 return <ExpenseItem key={ expenseItem.expenseId } expenseItem={ expenseItem } />
			}
			return ''
		})}
      </ExpenseItemSCard>



    </div>

  )



}



export default ExpenseItems
